{"openapi":"3.0.1","info":{"title":"SimRule API","description":"Enterprise Rule Simulator for RuleWeaver - Comprehensive test scenario management, simulation execution, coverage analysis, and reporting platform for business rules","contact":{"name":"RuleWeaver Team","url":"https://ruleweaver.com","email":"support@ruleweaver.com"},"license":{"name":"Proprietary","url":"https://ruleweaver.com/license"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8081","description":"Development Server"},{"url":"https://simrule.example.com","description":"Production Server"}],"tags":[{"name":"Scenarios","description":"Test scenario management endpoints"},{"name":"Simulations","description":"Simulation execution and management endpoints"},{"name":"Actuator","description":"Monitor and interact","externalDocs":{"description":"Spring Boot Actuator Web API Documentation","url":"https://docs.spring.io/spring-boot/docs/current/actuator-api/html/"}},{"name":"Datasets","description":"Test dataset management endpoints"},{"name":"Coverage","description":"Rule coverage analysis endpoints"}],"paths":{"/api/v1/scenarios/{scenarioId}":{"get":{"tags":["Scenarios"],"summary":"Get scenario","description":"Retrieve scenario details by ID","operationId":"getScenario","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ScenarioResponse"}}}}}},"put":{"tags":["Scenarios"],"summary":"Update scenario","description":"Update an existing test scenario","operationId":"updateScenario","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}},{"name":"X-User-ID","in":"header","required":false,"schema":{"type":"string","default":"system"}},{"name":"X-Correlation-ID","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateScenarioRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ScenarioResponse"}}}}}},"delete":{"tags":["Scenarios"],"summary":"Delete scenario","description":"Delete a test scenario","operationId":"deleteScenario","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}},{"name":"X-User-ID","in":"header","required":false,"schema":{"type":"string","default":"system"}},{"name":"X-Correlation-ID","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/simulations":{"get":{"tags":["Simulations"],"summary":"List simulations","description":"Retrieve all simulations with optional filtering","operationId":"getAllSimulations","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SimulationResponse"}}}}}}},"post":{"tags":["Simulations"],"summary":"Execute simulation","description":"Execute a simulation for specified scenarios","operationId":"executeSimulation","parameters":[{"name":"X-User-ID","in":"header","required":false,"schema":{"type":"string","default":"system"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteSimulationRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SimulationResponse"}}}}}}},"/api/v1/scenarios":{"get":{"tags":["Scenarios"],"summary":"List scenarios","description":"Retrieve all scenarios with optional filtering","operationId":"getAllScenarios","parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string"}},{"name":"ruleSet","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ScenarioResponse"}}}}}}},"post":{"tags":["Scenarios"],"summary":"Create test scenario","description":"Create a new test scenario with expected results and assertions","operationId":"createScenario","parameters":[{"name":"X-User-ID","in":"header","required":false,"schema":{"type":"string","default":"system"}},{"name":"X-Correlation-ID","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateScenarioRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ScenarioResponse"}}}}}}},"/api/v1/scenarios/{scenarioId}/clone":{"post":{"tags":["Scenarios"],"summary":"Clone scenario","description":"Create a copy of an existing scenario","operationId":"cloneScenario","parameters":[{"name":"scenarioId","in":"path","required":true,"schema":{"type":"string"}},{"name":"X-User-ID","in":"header","required":false,"schema":{"type":"string","default":"system"}},{"name":"X-Correlation-ID","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ScenarioResponse"}}}}}}},"/api/v1/datasets":{"get":{"tags":["Datasets"],"summary":"List datasets","description":"Retrieve all datasets with optional filtering","operationId":"getAllDatasets","parameters":[{"name":"factType","in":"query","required":false,"schema":{"type":"string"}},{"name":"status","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DatasetResponse"}}}}}}},"post":{"tags":["Datasets"],"summary":"Upload dataset","description":"Upload a new test dataset with records","operationId":"uploadDataset","parameters":[{"name":"X-User-ID","in":"header","required":false,"schema":{"type":"string","default":"system"}},{"name":"X-Correlation-ID","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadDatasetRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DatasetResponse"}}}}}}},"/api/v1/coverage/{ruleSet}":{"get":{"tags":["Coverage"],"summary":"List coverage reports","description":"Retrieve all coverage reports for a rule set","operationId":"getCoverageReports","parameters":[{"name":"ruleSet","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CoverageReportResponse"}}}}}}},"post":{"tags":["Coverage"],"summary":"Generate coverage report","description":"Generate coverage analysis report for a rule set","operationId":"generateCoverageReport","parameters":[{"name":"ruleSet","in":"path","required":true,"schema":{"type":"string"}},{"name":"X-User-ID","in":"header","required":false,"schema":{"type":"string","default":"system"}},{"name":"X-Correlation-ID","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoverageReportResponse"}}}}}}},"/api/v1/simulations/{simulationId}":{"get":{"tags":["Simulations"],"summary":"Get simulation","description":"Retrieve simulation details and results by ID","operationId":"getSimulation","parameters":[{"name":"simulationId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SimulationResponse"}}}}}}},"/api/v1/datasets/{datasetId}":{"get":{"tags":["Datasets"],"summary":"Get dataset","description":"Retrieve dataset details by ID","operationId":"getDataset","parameters":[{"name":"datasetId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/DatasetResponse"}}}}}},"delete":{"tags":["Datasets"],"summary":"Delete dataset","description":"Delete a test dataset","operationId":"deleteDataset","parameters":[{"name":"datasetId","in":"path","required":true,"schema":{"type":"string"}},{"name":"X-User-ID","in":"header","required":false,"schema":{"type":"string","default":"system"}},{"name":"X-Correlation-ID","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/coverage/{ruleSet}/latest":{"get":{"tags":["Coverage"],"summary":"Get latest coverage report","description":"Retrieve the most recent coverage report for a rule set","operationId":"getLatestCoverageReport","parameters":[{"name":"ruleSet","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CoverageReportResponse"}}}}}}},"/actuator/prometheus":{"get":{"tags":["Actuator"],"operationId":"handle","responses":{"200":{"description":"OK","content":{"text/plain;version=0.0.4;charset=utf-8":{"schema":{"type":"object"}},"application/openmetrics-text;version=1.0.0;charset=utf-8":{"schema":{"type":"object"}}}}}}},"/actuator/metrics/{requiredMetricName}":{"get":{"tags":["Actuator"],"operationId":"handle_1","parameters":[{"name":"requiredMetricName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/actuator/metrics":{"get":{"tags":["Actuator"],"operationId":"handle_2","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/actuator/info":{"get":{"tags":["Actuator"],"operationId":"handle_3","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/actuator/health/{*path}":{"get":{"tags":["Actuator"],"operationId":"handle_4","parameters":[{"name":"*path","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/actuator/health":{"get":{"tags":["Actuator"],"operationId":"handle_5","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object"}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object"}},"application/json":{"schema":{"type":"object"}}}}}}},"/actuator":{"get":{"tags":["Actuator"],"operationId":"links","responses":{"200":{"description":"OK","content":{"application/vnd.spring-boot.actuator.v3+json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}},"application/vnd.spring-boot.actuator.v2+json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}},"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}}}}}}}}}},"components":{"schemas":{"AssertionDto":{"type":"object","properties":{"fieldPath":{"type":"string"},"operator":{"type":"string"},"expectedValue":{"type":"object"},"description":{"type":"string"}}},"ExpectedResultDto":{"type":"object","properties":{"validationPassed":{"type":"boolean"},"rulesFired":{"type":"array","items":{"type":"string"}},"expectedFields":{"type":"object","additionalProperties":{"type":"object"}},"expectedErrors":{"type":"array","items":{"type":"string"}}}},"UpdateScenarioRequest":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"ruleSet":{"type":"string"},"factType":{"type":"string"},"testData":{"type":"object","additionalProperties":{"type":"object"}},"expectedResult":{"$ref":"#/components/schemas/ExpectedResultDto"},"assertions":{"type":"array","items":{"$ref":"#/components/schemas/AssertionDto"}},"tags":{"type":"array","items":{"type":"string"}},"status":{"type":"string"},"datasetId":{"type":"string"}}},"ScenarioResponse":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"ruleSet":{"type":"string"},"factType":{"type":"string"},"testData":{"type":"object","additionalProperties":{"type":"object"}},"expectedResult":{"$ref":"#/components/schemas/ExpectedResultDto"},"assertions":{"type":"array","items":{"$ref":"#/components/schemas/AssertionDto"}},"tags":{"type":"array","items":{"type":"string"}},"status":{"type":"string"},"version":{"type":"integer","format":"int32"},"parentScenarioId":{"type":"string"},"datasetId":{"type":"string"},"executionCount":{"type":"integer","format":"int32"},"lastExecutionAt":{"type":"string","format":"date-time"},"successRate":{"type":"number","format":"double"},"createdBy":{"type":"string"},"lastModifiedBy":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"ExecuteSimulationRequest":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"scenarioIds":{"type":"array","items":{"type":"string"}},"executionMode":{"type":"string"},"concurrency":{"type":"integer","format":"int32"},"timeoutSeconds":{"type":"integer","format":"int32"},"correlationId":{"type":"string"}}},"AssertionResultDto":{"type":"object","properties":{"description":{"type":"string"},"fieldPath":{"type":"string"},"operator":{"type":"string"},"expectedValue":{"type":"object"},"actualValue":{"type":"object"},"passed":{"type":"boolean"},"failureMessage":{"type":"string"}}},"ExecutionMetricsDto":{"type":"object","properties":{"totalScenarios":{"type":"integer","format":"int32"},"scenariosPassed":{"type":"integer","format":"int32"},"scenariosFailed":{"type":"integer","format":"int32"},"successRate":{"type":"number","format":"double"},"totalDurationMs":{"type":"integer","format":"int64"},"averageDurationMs":{"type":"number","format":"double"},"totalAssertions":{"type":"integer","format":"int32"},"assertionsPassed":{"type":"integer","format":"int32"},"assertionsFailed":{"type":"integer","format":"int32"},"assertionSuccessRate":{"type":"number","format":"double"}}},"ScenarioExecutionDto":{"type":"object","properties":{"scenarioId":{"type":"string"},"scenarioName":{"type":"string"},"success":{"type":"boolean"},"validationResponse":{"type":"object","additionalProperties":{"type":"object"}},"assertionResults":{"type":"array","items":{"$ref":"#/components/schemas/AssertionResultDto"}},"startedAt":{"type":"string","format":"date-time"},"completedAt":{"type":"string","format":"date-time"},"durationMs":{"type":"integer","format":"int64"},"errorMessage":{"type":"string"},"rulesFired":{"type":"array","items":{"type":"string"}}}},"SimulationResponse":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"executionMode":{"type":"string"},"status":{"type":"string"},"scenarioIds":{"type":"array","items":{"type":"string"}},"scenarioExecutions":{"type":"array","items":{"$ref":"#/components/schemas/ScenarioExecutionDto"}},"metrics":{"$ref":"#/components/schemas/ExecutionMetricsDto"},"correlationId":{"type":"string"},"executedBy":{"type":"string"},"startedAt":{"type":"string","format":"date-time"},"completedAt":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"errorMessage":{"type":"string"}}},"CreateScenarioRequest":{"required":["factType","name","ruleSet","testData"],"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"ruleSet":{"type":"string"},"factType":{"type":"string"},"testData":{"type":"object","additionalProperties":{"type":"object"}},"expectedResult":{"$ref":"#/components/schemas/ExpectedResultDto"},"assertions":{"type":"array","items":{"$ref":"#/components/schemas/AssertionDto"}},"tags":{"type":"array","items":{"type":"string"}},"datasetId":{"type":"string"}}},"UploadDatasetRequest":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"factType":{"type":"string"},"format":{"type":"string"},"records":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}},"tags":{"type":"array","items":{"type":"string"}}}},"DatasetResponse":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"factType":{"type":"string"},"format":{"type":"string"},"records":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}},"recordCount":{"type":"integer","format":"int32"},"status":{"type":"string"},"version":{"type":"integer","format":"int32"},"statistics":{"$ref":"#/components/schemas/DatasetStatisticsDto"},"tags":{"type":"array","items":{"type":"string"}},"usageCount":{"type":"integer","format":"int32"},"usedByScenarios":{"type":"array","items":{"type":"string"}},"createdBy":{"type":"string"},"lastModifiedBy":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"DatasetStatisticsDto":{"type":"object","properties":{"fieldNames":{"type":"array","items":{"type":"string"}},"fieldTypes":{"type":"object","additionalProperties":{"type":"string"}},"nullCounts":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"uniqueValueCounts":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}},"numericRanges":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/NumericRangeDto"}}}},"NumericRangeDto":{"type":"object","properties":{"min":{"type":"number","format":"double"},"max":{"type":"number","format":"double"},"avg":{"type":"number","format":"double"},"stdDev":{"type":"number","format":"double"}}},"CoverageMetricsDto":{"type":"object","properties":{"totalRules":{"type":"integer","format":"int32"},"rulesTested":{"type":"integer","format":"int32"},"rulesUntested":{"type":"integer","format":"int32"},"coveragePercentage":{"type":"number","format":"double"},"totalScenarios":{"type":"integer","format":"int32"},"totalSimulations":{"type":"integer","format":"int32"},"avgRuleExecutions":{"type":"number","format":"double"}}},"CoverageReportResponse":{"type":"object","properties":{"id":{"type":"string"},"ruleSet":{"type":"string"},"generatedAt":{"type":"string","format":"date-time"},"metrics":{"$ref":"#/components/schemas/CoverageMetricsDto"},"testedRules":{"type":"array","items":{"$ref":"#/components/schemas/RuleCoverageDto"}},"untestedRules":{"type":"array","items":{"$ref":"#/components/schemas/RuleCoverageDto"}},"trends":{"type":"array","items":{"$ref":"#/components/schemas/CoverageTrendDto"}},"generatedBy":{"type":"string"},"simulationIds":{"type":"array","items":{"type":"string"}},"periodFrom":{"type":"string","format":"date-time"},"periodTo":{"type":"string","format":"date-time"}}},"CoverageTrendDto":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time"},"coveragePercentage":{"type":"number","format":"double"},"rulesTested":{"type":"integer","format":"int32"},"scenarioCount":{"type":"integer","format":"int32"}}},"RuleCoverageDto":{"type":"object","properties":{"ruleName":{"type":"string"},"ruleDescription":{"type":"string"},"executionCount":{"type":"integer","format":"int32"},"lastExecutedAt":{"type":"string","format":"date-time"},"scenarioIds":{"type":"array","items":{"type":"string"}},"successRate":{"type":"number","format":"double"},"metadata":{"type":"object","additionalProperties":{"type":"object"}}}},"Link":{"type":"object","properties":{"href":{"type":"string"},"templated":{"type":"boolean"}}}},"securitySchemes":{"bearer-jwt":{"type":"http","description":"JWT authentication token (production only)","scheme":"bearer","bearerFormat":"JWT"}}}}